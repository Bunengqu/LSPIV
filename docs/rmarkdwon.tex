% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
]{article}
\usepackage{amsmath,amssymb}
\usepackage{lmodern}
\usepackage{ifxetex,ifluatex}
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
  \setmainfont[]{Arial}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\hypersetup{
  pdftitle={La raport intermÃ©diaire},
  pdfauthor={Antoine ViguiÃ©, Aymane Berriane, Christian Alvarez Leon, Meng Wang, Yu PENG},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}
\urlstyle{same} % disable monospaced font for URLs
\usepackage[margin=1in]{geometry}



\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{5}
\usepackage{booktabs}
\usepackage{amsthm}

%ä½¿ç”¨ä¸­æ–‡è¦ä½¿ç”¨è¿™ä¸ªåŒ…
\usepackage{ctex}

\usepackage{graphicx}
\graphicspath{{images/}} %è¡¨ç¤ºå›¾ç‰‡åœ¨å½“å‰ç›®å½•ä¸‹çš„imagesç›®å½•

%å°é¢====================================================================================================================
\usepackage{pdfpages}
%=========================================================================================================================

%é‡æ–°å‘½å=================================================================================================================

%\renewcommand{\bibname}{ä½ çš„BIBLIOGRAPHY}
%\renewcommand{\abstractname}{ä½ çš„ABSTRACT}

\renewcommand{\refname}{RÃ‰FERENCES}

%\renewcommand{\chaptername}{Chapitre}

%\usepackage{titlesec}

%\usepackage{lipsum}

%\titleformat{\chapter}[display]{\normalfont\bfseries}{}{0pt}{\Large}

%æ ‡é¢˜å‘½å
\renewcommand{\contentsname}{SOMMAIRE}

%å›¾å‘½å
\renewcommand{\figurename}{Figure}

%åœ¨tocä¸­åŒ…å«reference :https://tex.stackexchange.com/questions/57427/how-to-add-printindex-to-tableofcontents
\usepackage{makeidx}
\makeindex
\usepackage[nottoc]{tocbibind}

%toc æ²¡æœ‰headersé¡µçœ‰
\addtocontents{toc}{\protect\thispagestyle{empty}}

%=========================================================================================================================


%é¡µçœ‰é¡µè„š==================================================================================================================

%\fancyhead[R]{\kaishu ä¸­å›½çŸ¿ä¸šå¤§å­¦~(åŒ—äº¬) ç¡•å£«å­¦ä½è®ºæ–‡}
%\lhead{page \thepage\ of \pageref{LastPage}}
%\fancyhead[RO,LE]{\CJKfamily{hei} \bfseries \LaTeX{} æ’ç‰ˆç³»ç»Ÿ}
%\fancyhead[LO,RE]{\CJKfamily{hei>} \bfseries \leftmark}
%\renewcommand{\headrule}{\hrule width\headwidth \vspace{1.5pt}\hrule width\headwidth} % æ‰€è°“çš„æ–‡æ­¦çº¿



%å®šä¹‰é¡µçœ‰é¡µè„š fancyhdr åŒ…
\usepackage{fancyhdr}

\pagestyle{fancy}

%é»˜è®¤æ¸…é™¤æ‰€æœ‰çš„é¡µçœ‰å’Œé¡µè„šè®¾ç½®
\fancyhf{} %æ¸…ç©ºé¡µçœ‰é¡µè„š è¿™æ˜¯ä¸ªæ›´åº•å±‚çš„å‘½ä»¤

%è®¾ç½®é¡µçœ‰é«˜åº¦
\setlength\headheight{40pt}

%å¤šè¡Œ
%\fancyhead[c]{From: Frank\\To: Michel}

% ä½¿ç”¨tabular å¤šè¡Œå¯¹é½
% \rhead{
    % \begin{tabular}[b]{l@{}}
        % Page: \thepage\\\today
    % \end{tabular}
    % }
\lhead{\includegraphics[height=30pt]{ecole.png}}
\rfoot{\thepage}

%é¡µçœ‰æ¨ªçº¿
%\renewcommand\headrulewidth{0pt} %éšè—é¡µçœ‰æ¨ªçº¿
\renewcommand{\headrule}{\hrule width\headwidth \vspace{1.5pt}\hrule width\headwidth} % æ‰€è°“çš„æ–‡æ­¦çº¿

%==========================================================================================================================

\makeatletter
\def\thm@space@setup{%
  \thm@preskip=8pt plus 2pt minus 4pt
  \thm@postskip=\thm@preskip
}
\makeatother

% è®©urlè¿æ¥å˜ä¸ºè„šæ³¨
\renewcommand{\href}[2]{#2\footnote{\url{#1}}}
\ifluatex
  \usepackage{selnolig}  % disable illegal ligatures
\fi

%natbib é€‰é¡¹======================================================================================================

\usepackage[]{natbib}
\bibliographystyle{plainnat}



\title{La raport intermÃ©diaire}
\author{Antoine ViguiÃ©, Aymane Berriane, Christian Alvarez Leon, Meng Wang, Yu PENG}
\date{2020-12-08}

%==========================================================================================================================================

\begin{document}


%æ’å…¥å°é¢=================================================================
\includepdf{images/COVERPAGE.pdf}
%=======================================================================

%æ’å…¥æ ‡é¢˜=================================================================
%%%\maketitle
%%=======================================================================

%åŠ ç©ºç™½é¡µä½†åˆheater
%\newpage
%\mbox{}
%\newpage



{
\setcounter{tocdepth}{2}
\tableofcontents
}


\newpage

\hypertarget{introduction}{%
\section*{Introduction}\label{introduction}}
\addcontentsline{toc}{section}{Introduction}

On observe rÃ©guliÃ¨rement sur la CÃ´te d'Azur, notamment Ã  l'automne, de forts Ã©pisodes pluvieux, pouvant engendrer des crues. Par exemple, le 23 novembre 2019, des inondations exceptionnelles se sont produites sur la CÃ´te d'Azur et ont inondÃ© les plaines alluviales de l'Argens, de la Siagne et de la Brague notamment. Plus rÃ©cemment, dÃ©but octobre 2020, les vallÃ©es de la Roya, de la VÃ©subie ont Ã©tÃ© ravagÃ©es par des inondations, avec 500 mm relevÃ©s pendant l'Ã©pisode Ã  Saint-Martin-VÃ©subie (MÃ©tÃ©o France), du jamais vu Ã  cette station depuis les relevÃ©s mÃ©tÃ©orologiques. En raison de la nature destructrice des inondations, des recherches hydrologiques sur les bassins versants doivent Ãªtre menÃ©es pour prendre les mesures d'anticipation et de protection de la population. Ceci nÃ©cessite par exemple de mesurer le dÃ©bit sur des sections de cours d'eau non instrumentÃ©es en appareils de mesure. Dans notre projet, le but est de calculer le dÃ©bit d'une section du canal de la Siagne par le logiciel Fudaa-LSPIV. Celui-ci permet de traiter des sÃ©quences d'images ou des vidÃ©os d'Ã©coulements pour calculer les champs de vitesse de surface et dÃ©bit de la section choisie. Ce logiciel peut s'avÃ©rer utile pour mesurer le dÃ©bit de sections de riviÃ¨res avec un fort courant et de nombreux objets flottants, car les mÃ©thodes classiques seraient susceptibles d'abÃ®mer le matÃ©riel. Il s'avÃ¨rera aussi nÃ©cessaire d'utiliser une autre mÃ©thode de mesure de dÃ©bit, comme l'ADCP, pour comparer les rÃ©sultats obtenus.

\hypertarget{contexte-du-projet}{%
\section{Contexte du projet}\label{contexte-du-projet}}

\hypertarget{zone-daction}{%
\subsection{Zone d'action}\label{zone-daction}}

Le canal de la Siagne permet d'acheminer l'eau prÃ©levÃ©e dans la Siagne depuis Saint-CÃ©zaire-sur-Siagne jusqu'Ã  Cannes sur un parcours de 50 km (figure 1). La section Ã©tudiÃ©e est situÃ©e Ã  Mougins, dans le dÃ©partement des Alpes-Maritimes (figure 2).

Datant de 1868, c'est un ouvrage hydraulique de transport et d'alimentation en eau vers la ville de Grasse ainsi que Cannes et ses environs.
DÃ©sormais Ã©lÃ©ment du paysage local, le canal s'Ã©tend Ã  ciel ouvert sur une grande partie.
La section Ã©tudiÃ©e est facilement accessible Ã  pieds comme en voiture, ce qui facilite les mesures. Puis, la forme du canal est simple et le dÃ©bit faible, ce qui donnera une mesure de dÃ©bit plus prÃ©cise (canaldelasiagne.fr)



\begin{figure}
\includegraphics[width=1\linewidth]{images/siagne} \caption{Localisation gÃ©ographique du canal de la Siagne (tracedetrail.fr)}\label{fig:unnamed-chunk-3}
\end{figure}

\hypertarget{pruxe9sentation-des-muxe9thodes-lspiv}{%
\subsection{PrÃ©sentation des mÃ©thodes LSPIV}\label{pruxe9sentation-des-muxe9thodes-lspiv}}

Les mÃ©thodes LSPIV (Large Scales Particle Image Velocity) permettent de mesurer le dÃ©bit d'un cours d'eau Ã  partir de vidÃ©os ou de sÃ©quences d'images. Dans le cas d'une sÃ©quence d'images, l'intervalle de temps doit Ãªtre identique entre chaque image. A partir de traceurs visibles, le champ de vitesse est Ã©tabli sur un logiciel LSPIV. Ce traitement de vidÃ©o ou d'images se dÃ©coupe en trois Ã©tapes :

\begin{itemize}
\tightlist
\item
  L'enregistrement de la vidÃ©o avec des traceurs et points de rÃ©fÃ©rence (GRP) visibles
\item
  Une Ã©tape d'orthorectification corrigeant notamment les problÃ¨mes de perspective.
\item
  Le calcul de la vitesse de dÃ©placement des traceurs pour dÃ©terminer le dÃ©bit.
\end{itemize}

La LSPIV est une mÃ©thode applicable quelle que soit le dÃ©bit ou la taille de la riviÃ¨re. C'est donc une mÃ©thode utilisable aussi bien en pÃ©riode de crue que d'Ã©tiage. Muste et al.~(2008) ont signalÃ© une erreur moyenne sur la vitesse de 10\%.

\hypertarget{principle}{%
\section{MÃ©thodologie}\label{principle}}

\hypertarget{orthorectification}{%
\subsection{Orthorectification}\label{orthorectification}}

Les logiciels LSPIV laissent le choix entre importer une vidÃ©o ou une sÃ©quence d'images.
Pour une sÃ©quence d'images, le nombre d'images par seconde doit Ãªtre spÃ©cifiÃ©.
En ce qui concerne l'utilisation d'une vidÃ©o, il est nÃ©cessaire de prÃ©ciser la section de la vidÃ©o qui nous intÃ©resse pour le sÃ©quenÃ§age. De plus doit Ãªtre indiquÃ© : le nombre d'images ou le temps sÃ©parant deux images. Tout ceci permet le sÃ©quenÃ§age de la vidÃ©o en plusieurs images.

Il existe deux mÃ©thodes d'orthorectification :

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  La mise Ã  l'Ã©chelle est une mÃ©thode utilisÃ©e lorsque les problÃ¨mes liÃ©s Ã  la perspective sont nÃ©gligeables, c'est-Ã -dire lorsque la camÃ©ra est verticale. D'abord, on choisit la rÃ©solution de l'image (en m/pixel). Soit on la saisit directement, soit on dÃ©finit un segment reliant deux points de longueur rÃ©elle connue, ce qui dÃ©finira la rÃ©solution. On peut Ã©galement rentrer les coordonnÃ©es de ces deux points. Ensuite, on effectue la transformation. Cela permet si besoin de modifier le repÃ¨re rÃ©el des orthoimages. On peut Ã©galement remplacer les coordonnÃ©es horaires par les coordonnÃ©es images. L'onglet Â« autres Â» permet de dÃ©finir le niveau d'eau et les coordonnÃ©es des coins de l'orthoimage.
\item
  L'orthorectification complÃ¨te permet d'apporter une correction eux problÃ¨mes de perspective. Les coordonnÃ©es terrain (X,Y,Z) des points de rÃ©fÃ©rences sont renseignÃ©es. Il suffit ensuite de cliquer sur le point de rÃ©fÃ©rence pour lui associer ses coordonnÃ©es images. Pour une ortho rectification en 3D, il faut au moins 6 points de rÃ©fÃ©rence et quatre pour une orthorectification 2D. Il est Ã©galement possible d'importer les coordonnÃ©es des points GRP depuis un fichier .dat. L'Ã©tape suivante est la vÃ©rification des GRP. Pour cela, on part des coordonnÃ©es image des points pour calculer les coordonnÃ©es terrain sur le logiciel. On mesure ensuite l'Ã©cart entre les coordonnÃ©es terrains mesurÃ©es sur place et celles mesurÃ©es sur le logiciel. Un tableau des Ã©carts est affichÃ©. La derniÃ¨re Ã©tape est une Ã©tape de transformation. On commence par indiquer sur le logiciel une zone d'Ã©tude rectangulaire pour obtenir des calculs plus rapidement. La rÃ©solution doit aussi Ãªtre adaptÃ©e afin que les dÃ©tails des traceurs soient visibles. Enfin, indiquer le niveau d'eau est essentiel.
\end{enumerate}

Ces deux mÃ©thodes sotn rÃ©sumÃ©es sur la figure \ref{fig:orthowang} :



\begin{figure}
\includegraphics[width=1\linewidth]{images/Orthowang} \caption{prÃ©sentation des diffÃ©rents modes d'orthorectification selon la position de la camÃ©ra (source Ã  prÃ©ciser)}\label{fig:orthowang}
\end{figure}

\hypertarget{calcul-de-la-vitesse-du-duxe9placement-des-traceurs}{%
\subsection{Calcul de la vitesse du dÃ©placement des traceurs}\label{calcul-de-la-vitesse-du-duxe9placement-des-traceurs}}

Les logiciels LSPIV calculent la vitesse instantanÃ©e de surface d'une riviÃ¨re ou cours d'eau en utilisant une mÃ©thode statique en corrÃ©lation croisÃ©e, cette mÃ©thode dÃ©termine le dÃ©placement des traceurs sur les images ortho rectifiÃ©es Ã  condition que les traceurs soient visibles Ã  la surface.

La mÃ©thode analyse statistiquement la position des traceurs en commun sur deux images successives sÃ©parÃ©es par un intervalle de temps. Cela consiste Ã  calculer la corrÃ©lation entre l'aire d'interrogation \(\text{AI}\) centrÃ©e sur un point \(a_{ij}\) dans la premiÃ¨re image, et l'aire \(\text{IA}\) centrÃ©e sur un point \(b_{ij}\) dans la deuxiÃ¨me image, oÃ¹ \(\text{IA}\) dÃ©finira la taille des traceurs Ã©tudiÃ©s dans l'identification des dÃ©placements. Le calcul des dÃ©placements est effectuÃ© sur la deuxiÃ¨me image dans l'aire de recherche \(\text{SA}\) sur le point \(b_{ij}\)



\begin{figure}
\includegraphics[width=1\linewidth]{images/calculationdevitesse} \caption{Principe d'identification du dÃ©placement des traceurs (Manuel d'utilisation Fudaa-LSPIV Version 1.6.4)}\label{fig:unnamed-chunk-4}
\end{figure}

\hypertarget{calcul-de-duxe9bit}{%
\subsection{Calcul de dÃ©bit}\label{calcul-de-duxe9bit}}

Les logiciels LSPIV utilisent le profil bathymÃ©trique d'une section en travers et la vitesse moyennÃ©e de profondeur pour calculer le dÃ©bit dans cette section.

Les points du profil bathymÃ©trique doivent Ãªtre introduits en commenÃ§ant par la berge gauche vers la berge droite ; les points aux extrÃ©mitÃ©s devront Ãªtre Ã  une cÃ´te supÃ©rieure Ã  celle de la surface de l'eau, et au moins un des points intÃ©rieurs aura une cÃ´te inferieure Ã  la surface de l'eau.

Fudaa-LSPIV calcule la vitesse instantanÃ©e de surface Ã  partir de traceurs, mais pour obtenir la vitesse de profondeur Fudaa-LSPIV utilisera un coefficient de vitesse \(\alpha\):

\begin{equation}
\alpha =  \frac{\text{Vitesse moyenne sur la tranche d'eau}}{\text{Vitesse de surface}}
\end{equation}

Une valeur de \(\alpha\) Ã©gale Ã  0.86 peut Ãªtre choisie pour un Ã©coulement moyen. La valeur de \(\alpha\) sera infÃ©rieure Ã  0.86 en Ã©coulements peu profond ou rugueux, et pour les Ã©coulements de majeur profondeur ou lisse \(\alpha\) sera supÃ©rieure Ã  0.86 (Jodeau, Hauet, et Le Coz - 2013). \citep{hauet_application_2013}

\hypertarget{appendix-appendix}{%
\appendix}


\hypertarget{application-de-la-muxe9thode-lspiv}{%
\section{Application de la mÃ©thode LSPIV}\label{application-de-la-muxe9thode-lspiv}}

La technique LSPIV (Large Scale Particle Image Velocimetry) permet de
mesurer les vitesses de surface d'un Ã©coulement par analyse de sÃ©quence
d'images. La mÃ©thode LSPIV complÃ¨te se compose de trois parties
principales:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  la prÃ©paration de l'image (voir section \ref{ip} )
\item
  le traitement PIV (voir section \ref{pp} )
\item
  l'analyse des donnÃ©es.
\end{enumerate}

\hypertarget{ip}{%
\subsection{Image preparation}\label{ip}}

La prÃ©paration de l'image est nÃ©cessaire pour Ãªtre en mesure de mieux distinguer les motifs en mouvement de l'imagerie et de supprimer les effets de perspective de l'image. La manipulation d'image pour prÃ©parer l'imagerie pour l'analyse LSPIV se composent de plusieurs Ã©tapes. SubsÃ©quemment, ces Ã©tapes sont:
(1) \protect\hyperlink{la-correction-de-distorsion-optique}{La correction de distorsion optique}, (2) \protect\hyperlink{la-stabilisation}{La stabilisation}, (3) \protect\hyperlink{lorthorectification-dimage}{l'orthorectification} et
(4) \protect\hyperlink{la-mise-en-niveau-de-gris-et-la-correction-du-gamma-et-du-contraste}{La mise en niveau de gris et la correction du gamma et du contraste}. Les trois premiÃ¨res Ã©tapes
sont appliquÃ©es pour garantir la prÃ©sence de distances Ã©gales dans les images.
La quatriÃ¨me Ã©tape est utilisÃ©e pour amÃ©liorer la distinction de la graine de
l'arriÃ¨re-plan et donc s'assurer de la validation de similitude
processus est efficace.

Il existe plusieurs logiciels qui permettent d'appliquer des options de manipulation d'images, comme OpenCV3\citep{noauthor_opencv_2015}

\hypertarget{la-correction-de-distorsion-optique}{%
\subsubsection*{La correction de distorsion optique}\label{la-correction-de-distorsion-optique}}
\addcontentsline{toc}{subsubsection}{La correction de distorsion optique}

En raison de la la courbure des lentilles de l'appareil photo, les images peuvent Ãªtre dÃ©formÃ©es. Figure \ref{fig:flens} prÃ©sente les deux types de distorsions des lentilles les plus frÃ©quentes,la distorsion en barillet et la distorsion en coussinet \citep{fryer_lens_1986} , Ces distorsions gÃ©omÃ©triques sont liÃ©es Ã  des facteurs radiaux. Un troisiÃ¨me type de distorsion est distorsion tangentielle, qui se produit lorsque les lentilles ne sont pas parallÃ¨les au plan
image. Certaines camÃ©ras sont capables de faire face Ã  ces distorsions
intÃ©rieurement. Cependant, la plupart du temps, une certaine quantitÃ© de post-traitement est
nÃ©cessaire pour ajuster les images.



\begin{figure}
\includegraphics[width=1\linewidth]{images/lens} \caption{Les differentes types de distortion. Du gauche Ã  la droit : la grille d'origine, la distorsion en barillet et la distorsion en coussinet.}\label{fig:flens}
\end{figure}

Les formules suivantes sont appliquÃ©es pour supprimer la distortion radial (Voir Ã‰quation\eqref{eq:corr1}) et la distorsion tangentielle (Voir Ã‰quation\eqref{eq:corr2})

\begin{equation}
\begin{aligned}
  x_{corr} = x\left(1+k_1r^2+k_2r^4+k_3r^6\right)
  \\y_{corr} = y\left(1+k_1r^2+k_2r^4+k_3r^6\right)
\end{aligned}
 \label{eq:corr1}
\end{equation}

D'oÃ¹ \(ğ‘¥\) et \(ğ‘¦\) sont les coordonnÃ©es d'origineÍ¾ \(x_{ğ‘ğ‘œğ‘Ÿğ‘Ÿ}\) et
\(y_{ğ‘ğ‘œğ‘Ÿğ‘Ÿ}\) sont les coordonnÃ©es corrigÃ©s. \(ğ‘Ÿ\) est la distance entre le
point \(\left(ğ‘¥, ğ‘¦\right)\) et le centre de la distortion. \(ğ‘˜_1\), \(ğ‘˜_2\),
et \(ğ‘˜_3\) sont les coefficients radiales. Pour la distortion en barillet et la distortion en coussinet , \(ğ‘˜_1\) est respectivemen negative et positive. \(ğ‘˜_2\) et \(ğ‘˜_3\) sont nÃ©gligeables.

\begin{equation}
\begin{aligned}
   x_{corr} = x+\left[ 2 p_1 x y+ p_2\left( r^2+2x^2\right) \right]\\
  y_{corr} = y+\left[ p_1 \left(r^2+2 y^2\right)+ 2p_2xy\right]
\end{aligned}
 \label{eq:corr2}
\end{equation}

D'oÃ¹ \(ğ‘_1\) et \(ğ‘_2\) sont les coefficient de la distortion tangentielle. les diffÃ©rents coefficients sont souvent stockÃ©s dans un tableau:

\begin{equation}
C_{dis}=
\begin{bmatrix}
k_1 & k_2 & p_1 & p_2 & k_3
\end{bmatrix}
\end{equation}

Ã€ part du coefficient de distorsion, pour pouvoir corriger l'imagerie, Une conversion entre les coordonnÃ©es de distorsion et la rÃ©solution de la camÃ©ra est
fait. Pour cela, la formule est donnÃ©e dans l'Ã©quation \eqref{eq:corr3}

\begin{equation}
\begin{bmatrix}
x\\
y\\
w
\end{bmatrix}
= M_{con} \cdot
\begin{bmatrix}
x\\
y\\
z
\end{bmatrix}
\quad \text{d'oÃ¹} \quad
M_{con} =
\begin{bmatrix}
f_x & 0 & c_x\\
0 & f_y & x_y\\
0 & 0 &1
\end{bmatrix}
\label{eq:corr3}
\end{equation}

D'oÃ¹ \([ğ‘¥, ğ‘¦, ğ‘¤]\) sont les coordonnÃ©es d'image homogÃ¨ne 2D et \([x, y , z]\) sont les coordonnÃ©es de camÃ©ra 3D . \(f_ğ‘¥\) et \(ğ‘“_ğ‘¦\) sont les longueurs locales de la camÃ©ra dans le sens \(ğ‘¥\) et \(ğ‘¦\) ,en genÃ©ral, ils sont identiques - \(ğ‘_ğ‘¥\) et \(ğ‘_ğ‘¦\) sont les coordinations de centre optique de la camÃ©ra dans le sens \(ğ‘¥\) et \(ğ‘¦\).

\hypertarget{la-stabilisation}{%
\subsubsection*{La stabilisation}\label{la-stabilisation}}
\addcontentsline{toc}{subsubsection}{La stabilisation}

AprÃ¨s avoir appliquÃ© la correction de la distorsion optique , le mouvements d'images possibles
peut Ãªtre supprimÃ© en appliquant la stabilisation de vidÃ©o. Les principales Ã©tapes de
stabilisation sont (1) l'extraction de points clÃ©s sur deux trames sÃ©quentielles,
(2) faire correspondre les points sur les deux trames, (3) estimer le
transformation gÃ©omÃ©trique, et (4) correction du mouvement.

\hypertarget{lorthorectification-dimage}{%
\subsubsection*{l'orthorectification d'image}\label{lorthorectification-dimage}}
\addcontentsline{toc}{subsubsection}{l'orthorectification d'image}

Pour supprimer les effets de la perspective de l'image -- lÃ  oÃ¹ les objets sont plus proches
de la camÃ©ra semble Ãªtre plus grande que les objets en arriÃ¨re-plan -- ,
l'orthorectification est appliquÃ©e. Lors de l'application d'orthorectification,
le systÃ¨me de coordonnÃ©es de l'imagerie est transfÃ©rÃ© Ã  une coordonnÃ©e locale
systÃ¨me. Pour ce systÃ¨me de coordonnÃ©es locales, points de contrÃ´le au sol (GCP) --
mis en place Ã  cÃ´tÃ© du flux -- sont utilisÃ©s. Pour l'orthorectification
processus pour Ãªtre aussi prÃ©cis que possible, au moins quatre GCP sont nÃ©cessaires, si
les images sont capturÃ©es perpendiculairement au flux ou lorsque les GCP
sont placÃ©s au mÃªme niveau que le niveau de l'eau. Un minimum de six
GCP sont nÃ©cessaires lorsque les GCP ne sont pas placÃ©s dans le mÃªme plan que le
niveau d'eau. Sur la Figure \ref{fig:fortho} les diffÃ©rents sites de jaugeage
et les configurations sont affichÃ©es.



\begin{figure}
\includegraphics[width=1\linewidth]{images/ortho} \caption{Nombre de points de contrÃ´le au sol (GCP) nÃ©cessaires dans diffÃ©rentes circonstances.}\label{fig:fortho}
\end{figure}

Lors de l'utilisation de quatre GCP, les facteurs d'inversion \(ğ‘“_ğ‘¥\) et \(ğ‘“_ğ‘¦\) sont
dÃ©terminÃ© en utilisant la formule indiquÃ©e dans l'Ã©quation \eqref{eq:corr4}.

\begin{equation}
p_{loc}\left(x,y\right)=p_{img}\left(f_x\left(x,y\right), f_y\left(x,y\right)\right)
\label{eq:corr4}
\end{equation}

D'oÃ¹ \(ğ‘_ {ğ‘‘ğ‘ ğ‘¡} \left (ğ‘¥, ğ‘¦, ğ‘§ \right)\) est l'emplacement gÃ©ographique du
point de contrÃ´le au sol dans le systÃ¨me de coordonnÃ©es local, gÃ©nÃ©ralement en mÃ©trique
units; \(ğ‘_ {ğ‘ ğ‘Ÿğ‘} \left (ğ‘¥, ğ‘¦ \right)\) est la coordonnÃ©e xy du sol
point de contrÃ´le dans l'imagerie, gÃ©nÃ©ralement en pixels; et \(ğ‘“_ğ‘¥\) et \(ğ‘“_ğ‘¦\) le
facteurs d'inversion.

SimultanÃ©ment Ã  ce processus, la rÃ©solution de l'image peut Ãªtre rÃ©glÃ©e
en multipliant les coordonnÃ©es \(ğºğ¶ğ‘ƒ_ {ğ‘‘ğ‘ ğ‘¡} \left (ğ‘¥, ğ‘¦ \right)\) par les
pixels souhaitÃ©s par coefficient de mÃ¨tre. Un exemple de
le processus d'orthorectification est illustrÃ© Ã  la Figure \ref{fig:forthoafter} .



\begin{figure}
\includegraphics[width=1\linewidth]{images/ortho_after} \caption{Exemple de processus d'orthorectification utilisant quatre GCP, indiquÃ©s par des poteaux en bambou le long du ruisseau.}\label{fig:forthoafter}
\end{figure}

Lorsque six (ou plus) GCP sont utilisÃ©s - parce que les coordonnÃ©es en trois dimensions
pour les GCP sont nÃ©cessaires - un modÃ¨le de stÃ©nopÃ© peut Ãªtre utilisÃ©. Cette mÃ©thode est
expliquÃ© par \citep{jodeau_application_2008} .

\hypertarget{la-mise-en-niveau-de-gris-et-la-correction-du-gamma-et-du-contraste}{%
\subsubsection*{La mise en niveau de gris et la correction du gamma et du contraste}\label{la-mise-en-niveau-de-gris-et-la-correction-du-gamma-et-du-contraste}}
\addcontentsline{toc}{subsubsection}{La mise en niveau de gris et la correction du gamma et du contraste}

La derniÃ¨re Ã©tape de la prÃ©paration de l'image est la conversion du
imagerie Ã  une Ã©chelle de gris et pour appliquer une correction de contraste et gamma.
Une mise Ã  l'Ã©chelle des gris est nÃ©cessaire pour pouvoir appliquer la validation de similaritÃ© entre
images vidÃ©o sÃ©quentielles. La correction de contraste et gamma est appliquÃ©e Ã 
amÃ©liorer la visibilitÃ© des semences. Les corrections de contraste et gamma sont
appliquÃ© Ã  l'aide des formules suivantes:

\begin{equation}
O_{constract} = \alpha \cdot I + \beta
\label{eq:constract}
\end{equation}

\begin{equation}
O_{gamma} = \left(\frac{I}{255}\right)^\frac{1}{\gamma} \cdot 255
\label{eq:gamma}
\end{equation}

D'oÃ¹ \(\alpha\) et \(\beta\) dÃ©finit la correction du contrasteÍ¾ \(\gamma\) est la correction de gammaÍ¾ \(O_n\) sont les imageries corrigÃ©sÍ¾ et \(I\) est l'imagerie d'origine.

\hypertarget{pp}{%
\subsection{PIV processing}\label{pp}}

La figure \ref{fig:fpivprocessing} montre les Ã©tapes du traitement PIV. Pour deux sÃ©quentiels
cadres, les images sont divisÃ©es en cellules de grille. En dÃ©terminant
validation de similaritÃ© - par exemple, une corrÃ©lation croisÃ©e ou une
rapport signal / bruit \citetext{\citealp[ ]{ran_application_2016}; \citealp{osorio-cano_method_2013}} -
entre les deux cadres de la zone de recherche, les dÃ©placements peuvent Ãªtre
dÃ©terminÃ©. Ces dÃ©placements sont ensuite convertis en vitesse d'Ã©coulement
vecteurs.

AprÃ¨s avoir appliquÃ© ce processus sur \(ğ‘\) images, un total de \(ğ‘âˆ’ 1\) cartes de vitesse
sont crÃ©Ã©es. Pour chaque carte de vitesse, les rÃ©sultats peuvent Ãªtre encore amÃ©liorÃ©s
en appliquant un filtrage supplÃ©mentaire basÃ© sur la valeur de similaritÃ© dans chaque
fenÃªtre d'interrogation unique, et en remplaÃ§ant ces valeurs filtrÃ©es par
interpolation les cellules de la grille environnantes connues. Ces post-traitements
les Ã©tapes dÃ©pendent du logiciel utilisÃ© ou des rÃ©sultats requis.



\begin{figure}
\includegraphics[width=1\linewidth]{images/pivprocessing} \caption{Vue schÃ©matique de la mÃ©thode LSPIV oÃ¹ une fenÃªtre d'interrogation est dÃ©terminÃ©e (la grille est dessinÃ©e plus grande dan gÃ©nÃ©ralement appliquÃ©) dans la premiÃ¨re image et les graines prÃ©sentes sont comparÃ©es Ã  une zone de recherche dans l'image sÃ©quentielle 2 Ã  dÃ©terminer leurs dÃ©placements. En multipliant le dÃ©placement par la pÃ©riode de temps de trame, la vitesse est dÃ©terminÃ©e. Lorsque vous appliquez ceci sur toute l'image, une carte de vitesse d'Ã©coulement de surface peut Ãªtre crÃ©Ã©e pour chaque image individuelle.}\label{fig:fpivprocessing}
\end{figure}

\newpage

  \bibliography{LSPIV.bib}

\end{document}
