<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>A Application de la mÃ©thode LSPIV | La raport intermÃ©diaire</title>
  <meta name="description" content="A Application de la mÃ©thode LSPIV | La raport intermÃ©diaire" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="A Application de la mÃ©thode LSPIV | La raport intermÃ©diaire" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="A Application de la mÃ©thode LSPIV | La raport intermÃ©diaire" />
  
  
  

<meta name="author" content="Antoine ViguiÃ©, Aymane Berriane, Christian Alvarez Leon, Meng Wang, Yu PENG" />


<meta name="date" content="2020-12-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="principle.html"/>
<link rel="next" href="references.html"/>
<script src="libs/header-attrs-2.5/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.2/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.3/leaflet.js"></script>



<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<div><img src="images/ecole.png" width="200" alt="POLYTECH NICE-SOPHIA" hspace="30" vspace="30"/></div>
<li><a href="./"><li>Projet d'IngÃ©nierie:LSPIV</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="1" data-path="contexte-du-projet.html"><a href="contexte-du-projet.html"><i class="fa fa-check"></i><b>1</b> Contexte du projet</a>
<ul>
<li class="chapter" data-level="1.1" data-path="contexte-du-projet.html"><a href="contexte-du-projet.html#zone-daction"><i class="fa fa-check"></i><b>1.1</b> Zone dâ€™action</a></li>
<li class="chapter" data-level="1.2" data-path="contexte-du-projet.html"><a href="contexte-du-projet.html#prÃ©sentation-des-mÃ©thodes-lspiv"><i class="fa fa-check"></i><b>1.2</b> PrÃ©sentation des mÃ©thodes LSPIV</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="principle.html"><a href="principle.html"><i class="fa fa-check"></i><b>2</b> MÃ©thodologie</a>
<ul>
<li class="chapter" data-level="2.1" data-path="principle.html"><a href="principle.html#orthorectification"><i class="fa fa-check"></i><b>2.1</b> Orthorectification</a></li>
<li class="chapter" data-level="2.2" data-path="principle.html"><a href="principle.html#calcul-de-la-vitesse-du-dÃ©placement-des-traceurs"><i class="fa fa-check"></i><b>2.2</b> Calcul de la vitesse du dÃ©placement des traceurs</a></li>
<li class="chapter" data-level="2.3" data-path="principle.html"><a href="principle.html#calcul-de-dÃ©bit"><i class="fa fa-check"></i><b>2.3</b> Calcul de dÃ©bit</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="application-de-la-mÃ©thode-lspiv.html"><a href="application-de-la-mÃ©thode-lspiv.html"><i class="fa fa-check"></i><b>A</b> Application de la mÃ©thode LSPIV</a>
<ul>
<li class="chapter" data-level="A.1" data-path="application-de-la-mÃ©thode-lspiv.html"><a href="application-de-la-mÃ©thode-lspiv.html#ip"><i class="fa fa-check"></i><b>A.1</b> Image preparation</a>
<ul>
<li class="chapter" data-level="" data-path="application-de-la-mÃ©thode-lspiv.html"><a href="application-de-la-mÃ©thode-lspiv.html#la-correction-de-distorsion-optique"><i class="fa fa-check"></i>La correction de distorsion optique</a></li>
<li class="chapter" data-level="" data-path="application-de-la-mÃ©thode-lspiv.html"><a href="application-de-la-mÃ©thode-lspiv.html#la-stabilisation"><i class="fa fa-check"></i>La stabilisation</a></li>
<li class="chapter" data-level="" data-path="application-de-la-mÃ©thode-lspiv.html"><a href="application-de-la-mÃ©thode-lspiv.html#lorthorectification-dimage"><i class="fa fa-check"></i>lâ€™orthorectification dâ€™image</a></li>
<li class="chapter" data-level="" data-path="application-de-la-mÃ©thode-lspiv.html"><a href="application-de-la-mÃ©thode-lspiv.html#la-mise-en-niveau-de-gris-et-la-correction-du-gamma-et-du-contraste"><i class="fa fa-check"></i>La mise en niveau de gris et la correction du gamma et du contraste</a></li>
</ul></li>
<li class="chapter" data-level="A.2" data-path="application-de-la-mÃ©thode-lspiv.html"><a href="application-de-la-mÃ©thode-lspiv.html#pp"><i class="fa fa-check"></i><b>A.2</b> PIV processing</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>REFERENCES</a></li>
<li class="divider"></li>
<li><a href="https://univ-cotedazur.fr/"><li>POLYTECH NICE-SOPHIA</a></li>   

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">La raport intermÃ©diaire</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="application-de-la-mÃ©thode-lspiv" class="section level1" number="3">
<h1><span class="header-section-number">A</span> Application de la mÃ©thode LSPIV</h1>
<!-- # Applying LargeÂ­Scale Particle Image Velocimetry -->
<!-- **Low cost** -->
<!--  LargeÂ­Scale Particle Image Velocimetry (LSPIV) -->
<!-- >The basic principle of using LSPIV for determining surface flow velocities, is tracing particle -->
<!-- displacements by analysing small regions (or interrogation areas) of consecutive frames through -->
<!-- validating their similarities. -->
<!-- The complete LSPIV method consist of three major parts: -->
<!-- (1) the imagepreparation (see Section 2.4.1) -->
<!-- (2) the PIV processing (see Section 2.4.2) and -->
<!-- (3) the data analysis. -->
<!-- ~~Box 2.2 provides the general process of the method. In Appendix A an stepÂ­byÂ­step procedure for -->
<!-- determining discharges from scratch is provided.~~ -->
<p>La technique LSPIV (Large Scale Particle Image Velocimetry) permet de
mesurer les vitesses de surface dâ€™un Ã©coulement par analyse de sÃ©quence
dâ€™images. La mÃ©thode LSPIV complÃ¨te se compose de trois parties
principales:</p>
<ol style="list-style-type: decimal">
<li><p>la prÃ©paration de lâ€™image (voir section <a href="application-de-la-mÃ©thode-lspiv.html#ip">A.1</a> )</p></li>
<li><p>le traitement PIV (voir section <a href="application-de-la-mÃ©thode-lspiv.html#pp">A.2</a> )</p></li>
<li><p>lâ€™analyse des donnÃ©es.</p></li>
</ol>
<div id="ip" class="section level2" number="3.1">
<h2><span class="header-section-number">A.1</span> Image preparation</h2>
<!-- > ~~Image preparation is needed to be able to better distinguish moving -->
<!-- > patterns from the imagery, and to remove image perspective effects. -->
<!-- > Usually, this consists of the following steps: 1. Lens distortion -->
<!-- > correction based on camera characteristics. 2. Video stabilisation 3. -->
<!-- > Image orthorectification based on local GCPs. 4. Gray scaling, -->
<!-- > contrastÂ­ and gamma correction~~ -->
<!-- The image manipulation to prepare the imagery for the LSPIV analysis -->
<!-- consist of several steps. Subsequentially these steps are : (1) [lens -->
<!-- distortion correction], (2) [stabilisation], (3) orthorectification and -->
<!-- (4) Gray scaling, gammaÂ­ and contrast correction. The first three steps -->
<!-- are applied to ensure equal distances are present within the imagery. -->
<!-- The fourth step is used to improve the seed's distinguishability from -->
<!-- the background and therefore making sure the similarity validation -->
<!-- process is effective. -->
<p>La prÃ©paration de lâ€™image est nÃ©cessaire pour Ãªtre en mesure de mieux distinguer les motifs en mouvement de lâ€™imagerie et de supprimer les effets de perspective de lâ€™image. La manipulation dâ€™image pour prÃ©parer lâ€™imagerie pour lâ€™analyse LSPIV se composent de plusieurs Ã©tapes. SubsÃ©quemment, ces Ã©tapes sont:
(1) <a href="application-de-la-mÃ©thode-lspiv.html#la-correction-de-distorsion-optique">La correction de distorsion optique</a>, (2) <a href="application-de-la-mÃ©thode-lspiv.html#la-stabilisation">La stabilisation</a>, (3) <a href="application-de-la-mÃ©thode-lspiv.html#lorthorectification-dimage">lâ€™orthorectification</a> et
(4) <a href="application-de-la-mÃ©thode-lspiv.html#la-mise-en-niveau-de-gris-et-la-correction-du-gamma-et-du-contraste">La mise en niveau de gris et la correction du gamma et du contraste</a>. Les trois premiÃ¨res Ã©tapes
sont appliquÃ©es pour garantir la prÃ©sence de distances Ã©gales dans les images.
La quatriÃ¨me Ã©tape est utilisÃ©e pour amÃ©liorer la distinction de la graine de
lâ€™arriÃ¨re-plan et donc sâ€™assurer de la validation de similitude
processus est efficace.</p>
<!-- `There are several software which give the possibility to apply image manipulation options, like OpenCV3` -->
<p>Il existe plusieurs logiciels qui permettent dâ€™appliquer des options de manipulation dâ€™images, comme OpenCV3<span class="citation">(<a href="references.html#ref-noauthor_opencv_2015" role="doc-biblioref"><span>â€œ<span>OpenCV</span> 3.0. <span>OpenCV</span>â€</span> 2015</a>)</span></p>
<div id="la-correction-de-distorsion-optique" class="section level3 unnumbered">
<h3>La correction de distorsion optique</h3>
<!-- Due to the lens curvature of the camera, imagery can be distorted. -->
<!-- Figure \@ref(fig:lens) presents the two most appearing lens distortion types, -->
<!-- namely barrel distortion -- also known as fish eye distortion -- and -->
<!-- pincushion distortion (Fryer and Brown, 1986) [@fryer_lens_1986] . These -->
<!-- distortions are related to radial factors. A third type of distortion is -->
<!-- tangential distortion, which occurs when lenses are not parallel to the -->
<!-- image plain. Some cameras are able to cope with these distortions -->
<!-- internally. However, most of the time some amount of postÂ­processing is -->
<!-- needed to adjust the imagery.Ã   -->
<p>En raison de la la courbure des lentilles de lâ€™appareil photo, les images peuvent Ãªtre dÃ©formÃ©es. Figure <a href="application-de-la-mÃ©thode-lspiv.html#fig:flens">A.1</a> prÃ©sente les deux types de distorsions des lentilles les plus frÃ©quentes,la distorsion en barillet et la distorsion en coussinet <span class="citation">(<a href="references.html#ref-fryer_lens_1986" role="doc-biblioref">Fryer and Brown 1986</a>)</span> , Ces distorsions gÃ©omÃ©triques sont liÃ©es Ã  des facteurs radiaux. Un troisiÃ¨me type de distorsion est distorsion tangentielle, qui se produit lorsque les lentilles ne sont pas parallÃ¨les au plan
image. Certaines camÃ©ras sont capables de faire face Ã  ces distorsions
intÃ©rieurement. Cependant, la plupart du temps, une certaine quantitÃ© de post-traitement est
nÃ©cessaire pour ajuster les images.</p>

<div class="figure"><span id="fig:flens"></span>
<img src="images/lens.png" alt="Les differentes types de distortion. Du gauche Ã  la droit : la grille dâ€™origine, la distorsion en barillet et la distorsion en coussinet." width="100%" />
<p class="caption">
Figure A.1: Les differentes types de distortion. Du gauche Ã  la droit : la grille dâ€™origine, la distorsion en barillet et la distorsion en coussinet.
</p>
</div>
<p>Les formules suivantes sont appliquÃ©es pour supprimer la distortion radial (Voir Ã‰quation<a href="application-de-la-mÃ©thode-lspiv.html#eq:corr1">(A.1)</a>) et la distorsion tangentielle (Voir Ã‰quation<a href="application-de-la-mÃ©thode-lspiv.html#eq:corr2">(A.2)</a>)</p>
<span class="math display" id="eq:corr1">\[\begin{equation}
\begin{aligned}
  x_{corr} = x\left(1+k_1r^2+k_2r^4+k_3r^6\right)
  \\y_{corr} = y\left(1+k_1r^2+k_2r^4+k_3r^6\right)
\end{aligned}
 \tag{A.1}
\end{equation}\]</span>
<p>Dâ€™oÃ¹ <span class="math inline">\(ğ‘¥\)</span> et <span class="math inline">\(ğ‘¦\)</span> sont les coordonnÃ©es dâ€™origineÍ¾ <span class="math inline">\(x_{ğ‘ğ‘œğ‘Ÿğ‘Ÿ}\)</span> et
<span class="math inline">\(y_{ğ‘ğ‘œğ‘Ÿğ‘Ÿ}\)</span> sont les coordonnÃ©es corrigÃ©s. <span class="math inline">\(ğ‘Ÿ\)</span> est la distance entre le
point <span class="math inline">\(\left(ğ‘¥, ğ‘¦\right)\)</span> et le centre de la distortion. <span class="math inline">\(ğ‘˜_1\)</span>, <span class="math inline">\(ğ‘˜_2\)</span>,
et <span class="math inline">\(ğ‘˜_3\)</span> sont les coefficients radiales. Pour la distortion en barillet et la distortion en coussinet , <span class="math inline">\(ğ‘˜_1\)</span> est respectivemen negative et positive. <span class="math inline">\(ğ‘˜_2\)</span> et <span class="math inline">\(ğ‘˜_3\)</span> sont nÃ©gligeables.</p>
<span class="math display" id="eq:corr2">\[\begin{equation}
\begin{aligned}
   x_{corr} = x+\left[ 2 p_1 x y+ p_2\left( r^2+2x^2\right) \right]\\
  y_{corr} = y+\left[ p_1 \left(r^2+2 y^2\right)+ 2p_2xy\right]
\end{aligned}
 \tag{A.2}
\end{equation}\]</span>
<p>Dâ€™oÃ¹ <span class="math inline">\(ğ‘_1\)</span> et <span class="math inline">\(ğ‘_2\)</span> sont les coefficient de la distortion tangentielle. les diffÃ©rents coefficients sont souvent stockÃ©s dans un tableau:</p>
<span class="math display">\[\begin{equation}
C_{dis}=
\begin{bmatrix}
k_1 &amp; k_2 &amp; p_1 &amp; p_2 &amp; k_3
\end{bmatrix}
\end{equation}\]</span>
<!-- Besides the distortion coefficient, to be able to correct the imagery, a -->
<!-- conversion between the distortion coordinates and camera resolution is -->
<!-- made. For this, the formula as given in Equation \@ref(eq:corr3)is used. -->
<p>Ã€ part du coefficient de distorsion, pour pouvoir corriger lâ€™imagerie, Une conversion entre les coordonnÃ©es de distorsion et la rÃ©solution de la camÃ©ra est
fait. Pour cela, la formule est donnÃ©e dans lâ€™Ã©quation <a href="application-de-la-mÃ©thode-lspiv.html#eq:corr3">(A.3)</a></p>
<span class="math display" id="eq:corr3">\[\begin{equation}
\begin{bmatrix}
x\\
y\\
w
\end{bmatrix}
= M_{con} \cdot
\begin{bmatrix}
x\\
y\\
z
\end{bmatrix}
\quad \text{d&#39;oÃ¹} \quad
M_{con} =
\begin{bmatrix}
f_x &amp; 0 &amp; c_x\\
0 &amp; f_y &amp; x_y\\
0 &amp; 0 &amp;1
\end{bmatrix}
\tag{A.3}
\end{equation}\]</span>
<!-- æ²¡çœ‹æ‡‚ -->
<p>Dâ€™oÃ¹ <span class="math inline">\([ğ‘¥, ğ‘¦, ğ‘¤]\)</span> sont les coordonnÃ©es dâ€™image homogÃ¨ne 2D et <span class="math inline">\([x, y , z]\)</span> sont les coordonnÃ©es de camÃ©ra 3D . <span class="math inline">\(f_ğ‘¥\)</span> et <span class="math inline">\(ğ‘“_ğ‘¦\)</span> sont les longueurs locales de la camÃ©ra dans le sens <span class="math inline">\(ğ‘¥\)</span> et <span class="math inline">\(ğ‘¦\)</span> ,en genÃ©ral, ils sont identiques - <span class="math inline">\(ğ‘_ğ‘¥\)</span> et <span class="math inline">\(ğ‘_ğ‘¦\)</span> sont les coordinations de centre optique de la camÃ©ra dans le sens <span class="math inline">\(ğ‘¥\)</span> et <span class="math inline">\(ğ‘¦\)</span>.</p>
</div>
<div id="la-stabilisation" class="section level3 unnumbered">
<h3>La stabilisation</h3>
<!-- After applying lens distortion correction, possible imagery movements -->
<!-- can be removed by applying video stabilisation. The main steps of -->
<!-- stabilisation are (1) extracting key points on two sequential frames, -->
<!-- (2) matching the points on the two frames, (3) estimating the -->
<!-- geometrical transformation, and (4) correcting for the movement. -->
<p>AprÃ¨s avoir appliquÃ© la correction de la distorsion optique , le mouvements dâ€™images possibles
peut Ãªtre supprimÃ© en appliquant la stabilisation de vidÃ©o. Les principales Ã©tapes de
stabilisation sont (1) lâ€™extraction de points clÃ©s sur deux trames sÃ©quentielles,
(2) faire correspondre les points sur les deux trames, (3) estimer le
transformation gÃ©omÃ©trique, et (4) correction du mouvement.</p>
</div>
<div id="lorthorectification-dimage" class="section level3 unnumbered">
<h3>lâ€™orthorectification dâ€™image</h3>
<!-- To remove the effects of image perspective -- where objects closer to -->
<!-- the camera seem to be larger than objects in the background -- -->
<!-- orthorectification is applied. When applying orthorectification, the -->
<!-- coordinate system of the imagery are transferred to a local coordinate -->
<!-- system. For this local coordinate system ground control points (GCPs) -- -->
<!-- set up alongside the stream -- are used. For the orthorectification -->
<!-- process to be as accurate as possible, at least four GCPs are needed, if -->
<!-- the imagery is captured perpendicular to the stream, or when the GCPs -->
<!-- are placed at the same level as the water level. A minimum amount of six -->
<!-- GCPs is needed when the GCPs are not placed in the same plane as the -->
<!-- water level. In Figure \@ref(fig:ortho) the different gauging site -->
<!-- set-ups are shown. -->
<p>Pour supprimer les effets de la perspective de lâ€™image â€“ lÃ  oÃ¹ les objets sont plus proches
de la camÃ©ra semble Ãªtre plus grande que les objets en arriÃ¨re-plan â€“ ,
lâ€™orthorectification est appliquÃ©e. Lors de lâ€™application dâ€™orthorectification,
le systÃ¨me de coordonnÃ©es de lâ€™imagerie est transfÃ©rÃ© Ã  une coordonnÃ©e locale
systÃ¨me. Pour ce systÃ¨me de coordonnÃ©es locales, points de contrÃ´le au sol (GCP) â€“
mis en place Ã  cÃ´tÃ© du flux â€“ sont utilisÃ©s. Pour lâ€™orthorectification
processus pour Ãªtre aussi prÃ©cis que possible, au moins quatre GCP sont nÃ©cessaires, si
les images sont capturÃ©es perpendiculairement au flux ou lorsque les GCP
sont placÃ©s au mÃªme niveau que le niveau de lâ€™eau. Un minimum de six
GCP sont nÃ©cessaires lorsque les GCP ne sont pas placÃ©s dans le mÃªme plan que le
niveau dâ€™eau. Sur la Figure <a href="application-de-la-mÃ©thode-lspiv.html#fig:fortho">A.2</a> les diffÃ©rents sites de jaugeage
et les configurations sont affichÃ©es.</p>

<div class="figure"><span id="fig:fortho"></span>
<img src="images/ortho.png" alt="Nombre de points de contrÃ´le au sol (GCP) nÃ©cessaires dans diffÃ©rentes circonstances." width="100%" />
<p class="caption">
Figure A.2: Nombre de points de contrÃ´le au sol (GCP) nÃ©cessaires dans diffÃ©rentes circonstances.
</p>
</div>
<!-- when using four GCPs, the inversion factors $ğ‘“_ğ‘¥$ and $ğ‘“_ğ‘¦$ are -->
<!-- determined using the formula as stated in Equation \@ref(eq:corr4). -->
<p>Lors de lâ€™utilisation de quatre GCP, les facteurs dâ€™inversion <span class="math inline">\(ğ‘“_ğ‘¥\)</span> et <span class="math inline">\(ğ‘“_ğ‘¦\)</span> sont
dÃ©terminÃ© en utilisant la formule indiquÃ©e dans lâ€™Ã©quation <a href="application-de-la-mÃ©thode-lspiv.html#eq:corr4">(A.4)</a>.</p>
<span class="math display" id="eq:corr4">\[\begin{equation}
p_{loc}\left(x,y\right)=p_{img}\left(f_x\left(x,y\right), f_y\left(x,y\right)\right)
\tag{A.4}
\end{equation}\]</span>
<!-- where $ğ‘_{ğ‘‘ğ‘ ğ‘¡}\left(ğ‘¥, ğ‘¦, ğ‘§\right)$ is the geographic location of the -->
<!-- ground control point in the local coordinate system, usually in metric -->
<!-- unitsÍ¾ $ğ‘_{ğ‘ ğ‘Ÿğ‘}\left(ğ‘¥, ğ‘¦\right)$ is the xy-coordinate of the ground -->
<!-- control point in the imagery, usually in pixelsÍ¾ and $ğ‘“_ğ‘¥$ and $ğ‘“_ğ‘¦$ the -->
<!-- inversion factors. -->
<p>Dâ€™oÃ¹ <span class="math inline">\(ğ‘_ {ğ‘‘ğ‘ ğ‘¡} \left (ğ‘¥, ğ‘¦, ğ‘§ \right)\)</span> est lâ€™emplacement gÃ©ographique du
point de contrÃ´le au sol dans le systÃ¨me de coordonnÃ©es local, gÃ©nÃ©ralement en mÃ©trique
units; <span class="math inline">\(ğ‘_ {ğ‘ ğ‘Ÿğ‘} \left (ğ‘¥, ğ‘¦ \right)\)</span> est la coordonnÃ©e xy du sol
point de contrÃ´le dans lâ€™imagerie, gÃ©nÃ©ralement en pixels; et <span class="math inline">\(ğ‘“_ğ‘¥\)</span> et <span class="math inline">\(ğ‘“_ğ‘¦\)</span> le
facteurs dâ€™inversion.</p>
<!-- Simultaneously with this process, the resolution of the image can be set -->
<!-- by multiplying the $ğºğ¶ğ‘ƒ_{ğ‘‘ğ‘ ğ‘¡}\left(ğ‘¥, ğ‘¦\right)$ coordinates with the -->
<!-- desired pixels per meter coefficient. An example of the -->
<!-- orthorectification process is shown in Figure \@ref(fig:orthoafter) . -->
<p>SimultanÃ©ment Ã  ce processus, la rÃ©solution de lâ€™image peut Ãªtre rÃ©glÃ©e
en multipliant les coordonnÃ©es <span class="math inline">\(ğºğ¶ğ‘ƒ_ {ğ‘‘ğ‘ ğ‘¡} \left (ğ‘¥, ğ‘¦ \right)\)</span> par les
pixels souhaitÃ©s par coefficient de mÃ¨tre. Un exemple de
le processus dâ€™orthorectification est illustrÃ© Ã  la Figure <a href="application-de-la-mÃ©thode-lspiv.html#fig:forthoafter">A.3</a> .</p>

<div class="figure"><span id="fig:forthoafter"></span>
<img src="images/ortho_after.png" alt="Exemple de processus dâ€™orthorectification utilisant quatre GCP, indiquÃ©s par des poteaux en bambou le long du ruisseau." width="100%" />
<p class="caption">
Figure A.3: Exemple de processus dâ€™orthorectification utilisant quatre GCP, indiquÃ©s par des poteaux en bambou le long du ruisseau.
</p>
</div>
<!-- When six (or more) GCPs are used -- because 3-dimensional coordinates -->
<!-- for the GCPs are needed -- a pinhole model can be used. This method is -->
<!-- explained by Jodeau et al. (2008). -->
<p>Lorsque six (ou plus) GCP sont utilisÃ©s - parce que les coordonnÃ©es en trois dimensions
pour les GCP sont nÃ©cessaires - un modÃ¨le de stÃ©nopÃ© peut Ãªtre utilisÃ©. Cette mÃ©thode est
expliquÃ© par <span class="citation">(<a href="references.html#ref-jodeau_application_2008" role="doc-biblioref">Jodeau et al. 2008</a>)</span> .</p>
</div>
<div id="la-mise-en-niveau-de-gris-et-la-correction-du-gamma-et-du-contraste" class="section level3 unnumbered">
<h3>La mise en niveau de gris et la correction du gamma et du contraste</h3>
<!-- The last step within the image preparation, is the conversion of the -->
<!-- imagery to a gray scale, and to apply contrast- and gamma correction. -->
<!-- Gray scaling is needed to be able to apply similarity validation between -->
<!-- sequential video frames. Contrast- and gamma correction is applied to -->
<!-- enhance the visibility of seeds. The contrast- and gamma corrections are -->
<!-- applied using the following formulas : -->
<p>La derniÃ¨re Ã©tape de la prÃ©paration de lâ€™image est la conversion du
imagerie Ã  une Ã©chelle de gris et pour appliquer une correction de contraste et gamma.
Une mise Ã  lâ€™Ã©chelle des gris est nÃ©cessaire pour pouvoir appliquer la validation de similaritÃ© entre
images vidÃ©o sÃ©quentielles. La correction de contraste et gamma est appliquÃ©e Ã 
amÃ©liorer la visibilitÃ© des semences. Les corrections de contraste et gamma sont
appliquÃ© Ã  lâ€™aide des formules suivantes:</p>
<span class="math display" id="eq:constract">\[\begin{equation}
O_{constract} = \alpha \cdot I + \beta
\tag{A.5}
\end{equation}\]</span>
<span class="math display" id="eq:gamma">\[\begin{equation}
O_{gamma} = \left(\frac{I}{255}\right)^\frac{1}{\gamma} \cdot 255
\tag{A.6}
\end{equation}\]</span>
<!-- where $\alpha$ and $\beta$ defines the contrast correctionÍ¾ $\gamma$ the -->
<!-- gamma correctionÍ¾ $O_n$ are the corrected imageryÍ¾ and $I$ is the -->
<!-- original imagery -->
<p>Dâ€™oÃ¹ <span class="math inline">\(\alpha\)</span> et <span class="math inline">\(\beta\)</span> dÃ©finit la correction du contrasteÍ¾ <span class="math inline">\(\gamma\)</span> est la correction de gammaÍ¾ <span class="math inline">\(O_n\)</span> sont les imageries corrigÃ©sÍ¾ et <span class="math inline">\(I\)</span> est lâ€™imagerie dâ€™origine.</p>
</div>
</div>
<div id="pp" class="section level2" number="3.2">
<h2><span class="header-section-number">A.2</span> PIV processing</h2>
<!-- Figure 2.8 shows the steps of the PIV processing. For two sequential -->
<!-- frames, the imagery is divided into grid cells. By determining -->
<!-- similarity validation -- for example cross-correlation or a -->
<!-- signal-to-noise ratio (OsorioÂ­Cano et al., 2013Í¾ Ran et al., 2016) -- -->
<!-- between the two frames within the search area, displacements can be -->
<!-- determined. These displacements are then converted into flow velocity -->
<!-- vectors. -->
<p>La figure <a href="application-de-la-mÃ©thode-lspiv.html#fig:fpivprocessing">A.4</a> montre les Ã©tapes du traitement PIV. Pour deux sÃ©quentiels
cadres, les images sont divisÃ©es en cellules de grille. En dÃ©terminant
validation de similaritÃ© - par exemple, une corrÃ©lation croisÃ©e ou une
rapport signal / bruit <span class="citation">(<a href="references.html#ref-ran_application_2016" role="doc-biblioref">Ran et al. 2016</a> ; <a href="references.html#ref-osorio-cano_method_2013" role="doc-biblioref">Osorio-Cano, Osorio, and Medina 2013</a>)</span> -
entre les deux cadres de la zone de recherche, les dÃ©placements peuvent Ãªtre
dÃ©terminÃ©. Ces dÃ©placements sont ensuite convertis en vitesse dâ€™Ã©coulement
vecteurs.</p>
<!-- After applying this process on ğ‘ frames, a total of \$ğ‘âˆ’1 velocity maps -->
<!-- are created. For each velocity map, the results can be further improved -->
<!-- by applying additional filtering based on the similarity value in each -->
<!-- single interrogation window, and replacing these filtered values by -->
<!-- interpolation the known surrounding grid cells. These postÂ­processing -->
<!-- steps are dependent on the software used, or the results required. In -->
<!-- Section 4.3.2 the impact of this process is discussed -->
<!-- After retrieving the flow velocities, data analysis can be applied to -->
<!-- acquire timeÂ­averaged results. An approach for this process is provided -->
<!-- in Chapter 5. -->
<p>AprÃ¨s avoir appliquÃ© ce processus sur <span class="math inline">\(ğ‘\)</span> images, un total de <span class="math inline">\(ğ‘âˆ’ 1\)</span> cartes de vitesse
sont crÃ©Ã©es. Pour chaque carte de vitesse, les rÃ©sultats peuvent Ãªtre encore amÃ©liorÃ©s
en appliquant un filtrage supplÃ©mentaire basÃ© sur la valeur de similaritÃ© dans chaque
fenÃªtre dâ€™interrogation unique, et en remplaÃ§ant ces valeurs filtrÃ©es par
interpolation les cellules de la grille environnantes connues. Ces post-traitements
les Ã©tapes dÃ©pendent du logiciel utilisÃ© ou des rÃ©sultats requis.</p>
<!-- ## vocabulaire  -->
<!-- image perspective  Effet de perspective é€è§†æ•ˆåº” -->
<!-- lens distortion correction La correction de distorsion optique å…‰å­¦ç•¸å˜ -->
<!-- stabilisation  La stabilisation ç¨³å®š -->
<!-- orthorectification l'orthorectification çŸ«æ­£ -->
<!-- Gray scaling  mise en Niveau de gris ç°é˜¶å›¾ -->
<!-- gamma and contrast correction  la correction de gamma et contrast -->
<!-- lens curvature la courbure des lentilles -->
<!-- Barrel distortion fish eye distortion Distorsion en barillet -->
<!-- pincushion distortion  Distorsion en coussinet -->
<!-- tangential distortion distorsion tangentielle -->
<!-- image plain plain image -->
<!-- cope with faire face Ã   -->
<!-- radial distorision distorsion radiale -->
<!-- frame trame å¸§ -->
<!-- background arriÃ¨re-plan èƒŒæ™¯ -->

<div class="figure"><span id="fig:fpivprocessing"></span>
<img src="images/pivprocessing.png" alt="Vue schÃ©matique de la mÃ©thode LSPIV oÃ¹ une fenÃªtre dâ€™interrogation est dÃ©terminÃ©e (la grille est dessinÃ©e plus grande dan gÃ©nÃ©ralement appliquÃ©) dans la premiÃ¨re image et les graines prÃ©sentes sont comparÃ©es Ã  une zone de recherche dans lâ€™image sÃ©quentielle 2 Ã  dÃ©terminer leurs dÃ©placements. En multipliant le dÃ©placement par la pÃ©riode de temps de trame, la vitesse est dÃ©terminÃ©e. Lorsque vous appliquez ceci sur toute lâ€™image, une carte de vitesse dâ€™Ã©coulement de surface peut Ãªtre crÃ©Ã©e pour chaque image individuelle." width="100%" />
<p class="caption">
Figure A.4: Vue schÃ©matique de la mÃ©thode LSPIV oÃ¹ une fenÃªtre dâ€™interrogation est dÃ©terminÃ©e (la grille est dessinÃ©e plus grande dan gÃ©nÃ©ralement appliquÃ©) dans la premiÃ¨re image et les graines prÃ©sentes sont comparÃ©es Ã  une zone de recherche dans lâ€™image sÃ©quentielle 2 Ã  dÃ©terminer leurs dÃ©placements. En multipliant le dÃ©placement par la pÃ©riode de temps de trame, la vitesse est dÃ©terminÃ©e. Lorsque vous appliquez ceci sur toute lâ€™image, une carte de vitesse dâ€™Ã©coulement de surface peut Ãªtre crÃ©Ã©e pour chaque image individuelle.
</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="principle.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "White",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["PROJET_LSPIV.pdf"],
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "static"
},
"search": true,
"info": false
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
